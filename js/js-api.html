<!DOCTYPE html>
<html>
  <head>
    <title>html和js测试</title>
    <style></style>
  </head>
  <body>
    <button onclick="splitTest()">
      split()方法用于把一个字符串分割成字符串数组。
    </button>
    <p>
      String 对象的方法 slice()、substring() 和 substr()
      （不建议使用）都可返回字符串的指定部分。slice() 比 substring()
      要灵活一些，因为它允许使用负数作为参数。slice() 与 substr()
      有所不同，因为它用两个字符的位置来指定子串，而 substr()
      则用字符位置和长度来指定子串。 还要注意的是，String.slice() 与
      Array.slice() 相似。
    </p>
    <button onclick="subStrs()">substr和substring和slice的用法和区别</button>
    <button onclick="objectList()">遍历对象</button>
    <button onclick="isStr()">判断数字是字符串还是数字</button>
    <button onclick="testObjChange()">对象数据的污染</button>

    <script type="text/javascript">
      function isStr() {
        var a = 1;
        var b = "1";
        var c = true;
        if (typeof a == "string") {
          console.log("a是字符串");
        } else if (typeof b == "string") {
          console.log("b是字符串");
        } else if (typeof c == "string") {
          console.log("c是字符串");
        }
      }

      function splitTest() {
        var aaa = "1,2,3";
        var bbb = aaa.split(",");
        console.log(bbb);
      }

      function subStrs() {
        var aaa = "123456";
        var bbb = "abcdef";
        // substr() 方法可在字符串中抽取从 start 下标开始的指定数目的字符。
        // start 0开始 必须
        // length 长度 可选
        // 返回234 不改变原先值
        console.log(aaa.substr(1, 3), "---aaa.substr(1, 3)");
        // substring() 方法用于提取字符串中介于两个指定下标之间的字符。
        // start 0开始 必须
        // stop 可选 停止在下标为3，不包含3
        // 返回 abc 不改变原先值
        console.log(bbb.substring(0, 3), "---bbb.substring(0, 3)");
        // 提取字符串的某个部分
        // start 0开始 必须
        // stop 可选 停止在下标为3，不包含3
        console.log(aaa.slice(1, 4), "---aaa.slice(1, 4)");
        console.log(aaa, "---aaa");
        console.log(bbb, "---bbb");
      }

      function objectList() {
        var obj = { "0": "a", "1": "b", "2": "c" };
        for (var i in obj) {
          console.log(i, ":", obj[i]);
        }
      }

      function testObjChange() {
        var a = { a: "a1", b: "b1" };
        var b = a;
        b.a = "a2"; // 会影响a.a
        console.log(a.a, "之前的值，被b污染了");
        console.log(b.a, "之后的值");
        var c = { a: "a1", b: "b1" };
        var d = {};
        d.a = c.a;
        d.a = "a2"; // 不会影响c.a，因为是基本数据类型
        console.log(c.a, "之前的值");
        console.log(d.a, "之后的值");
      }
    </script>
  </body>
</html>
